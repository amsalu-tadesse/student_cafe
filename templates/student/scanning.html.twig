<link href="{{ asset('assets/bootstrap/css/bootstrap.min.css')}}" rel="stylesheet">
<style>
	tr {
		text-align: center;
	}
	
	.headerbigE {
		font-size: 100px;
		/*background-color: #17a118; */
		text-align: center;
	}
	.headerbigA {
		font-size: 100px;
		/*background-color: #17a118; */
		text-align: center;
	}

	.defaultpage {
		font-size: 40px;
		text-align: center;
	}




	.headermedium {
		font-size: 30px;
		/* background-color: #17a118; */
		color: black;
		font-weight: bold;
		text-align: center;
        vertical-align: middle;
	}
	.footer {
		font-size: 20px;
	}
	.content1 {
		font-size: 80px;
		background-color: #17a2b8;
	}
	/*html, body, .outer,.containter { height: 100% !important; background: pink }*/


	/* table{
            border: 1px solid black;
            width: 100%;
            height: 100%;
         }
  */

	.customborder {
		border: 40px solid #17a2b8;
	}
	td,
	th,
	tr {
		border: 12px solid #56a386;
	}
	table {
		position: absolute;
		height: 100%;

	}

	html,
	body {
		height: 100%;
		margin: 0;
	}


	body,
	html {
		height: 100%
	}
	div {
		height: 100%
	}
	table {
		background: red;
		width: 450px;
	}
	#btn {
		border: 3px blue solid;
	}

	img {
		border: 1px solid #ddd;
		border-radius: 4px;
		padding: 5px;
		width: 50%;
	}


	th,
	td {
		padding: 20px;
		/*border: 40px solid #56a386 !important;*/
		border: 40px solid #5bc0de !important;
		border-collapse: collapse;
		text-align: center;
	}



	input {
		font-size: 50px;
	}

.fill {
    /*display: flex;
    justify-content: center;*/
    /*align-items: center;*/
    overflow: hidden
}
.fill img {
    flex-shrink: 0;
    min-width: 100%;
    min-height: 100%
}
	

	body{
		overflow: hidden;
	}
</style>



<head>


    <script src="{{ asset('assets/js/jquery.min.js') }}"></script>

    <script src="{{ asset('assets/js/webcam.min.js') }}"></script>

    <link rel="stylesheet" href="{{ asset('assets/css/bootstrap.min.css') }}" />

    <style type="text/css">

        #results 
		{ 
			padding:20px; 
			border:1px solid; 
			background:#ccc; 
			/*align: center;*/
		}
        {# #my_camera { padding:20px; border:1px solid; background:#ccc; } #}

    </style>

</head>

<body>

	<div class="container col-lg-12 col-md-12 col-xl-12 flex-fill ">
		<div class="card">
			<form action="{{ path('scanning') }}" method="POST" onsubmit="function beep(1, 250, 3000)">
				<table class="table table-bordered customborder">
					<tr>
						<td colspan="2" class="headermedium" style="text-align: center; vertical-align: middle;">Welcome to Addis Ababa Science and Technology University</td>
					</tr>
					<tr>

						{% if allowed == 1%}
							<td class="headerbigA" style="background-color:green; color:white;text-align: center; vertical-align: middle;">
								ይግቡ
							</td>
						{% elseif allowed == 2 %}
							<td class="headerbigA" style="background-color:red; color:white;text-align: center; vertical-align: middle;">
								ከልክል
							</td>
						{% else %}
					 <td class="defaultpage" style="background-color:gray; color:white;text-align: center; vertical-align: middle;">
								እባክዎ መግቢያ ካርድዎትን ያሳዩ
							</td>
						{% endif %}

						<td rowspan="2" style="width:50%;" class="fill">
							

{# {% if allowed==0 %} #}
 {# <img src="{{ asset('assets/image/index.jpeg') }}"/>  #}
{# {% else %} #}
                   <div id="my_camera" style="display:none"></div>
	
                {# <input type=button value="shot" onClick="take_snapshot()"> #}
                <input type="hidden" name="image" class="image-tag" style="width:100%;">
                {# <div id="results"> <img src="{{ asset('assets/image/index.jpeg') }}" height="100"  /> </div> #}
				{# {% set file = "{{asset('uploads/"~fileName~"')}}" %} #}
				 
		
			
                <div id="results"> <img src="{{ asset('uploads/'~fileName~'') }}"  height="100"  /> </div>
{# {% endif %} #}
            



        



						</td>
					</tr>
					<tr>
						{% if allowed == 1 %}
							<td class="headerbigE" style="background-color:green; color:white;text-align: center; vertical-align: middle;">
								GET IN
							</td>
						{% elseif allowed == 2  %}
							<td class="headerbigE" style="background-color:red; color:white;text-align: center; vertical-align: middle;">
								DENY
							</td>
						{% else %}
						
							<td class="defaultpage" style="background-color:gray; color:white;text-align: center; vertical-align: middle;">
								<span class="english">PLEASE SHOW YOUR ENTRY CARD </span>
							</td>
			
						{% endif %}
					</tr>
					<tr>
						<td colspan="2" >
							<input type="text" id="barcode" name="barcode" style="width:100%;height:20%;font-size: 20px;" autofocus onkeydown="isKeyPressed(event)">
						</td>
					</tr>
					{% if allowed == 2 %}
						<tr style="padding:0px;width:50%">
							<td
								colspan="2" style="padding:2px;text-align:center; background-color:pink;vertical-align: middle">
								{# <input type="submit" value="SCAN" style="width:100%;height:100%;" class="btn btn-warning " id="btn"> #}

								<p style="color:red; font-size:20px;background-color:pink;">{{reason}}</p>
							</td>
						</tr>
					{% endif %}

				</table>
			</form>
		</div>
	</div>
{% if allowed ==1 %}
<embed src="{{ asset('assets/sounds/allow.mp3') }}" loop="true" autostart="true" width="2" height="0">
{% elseif allowed == 2 %}
	<embed src="{{ asset('assets/sounds/deny.mp3') }}" loop="true" autostart="true" width="2" height="0">
{% else %}
{# nothing  #}
{% endif %}

<script src="{{ asset('assets/bootstrap/js/bootstrap.min.js')}}"></script>


 


		{# <audio src="{{ asset('assets/sounds/deny.mp3') }}" autoplay ></audio> #}

	{# <embed src="{{ asset('assets/sounds/deny.mp3') }}" loop="true" autostart="true" width="2" height="0"> #}

	<script>
		/*var context = new AudioContext();
var allowed = "{{ allowed }}";
// defaults to A440Hz, sine wave
var src = context.createOscillator();
// Now let's create a modulator to turn beeps on and off
var mod = context.createOscillator();
mod.type = "square";
mod.frequency.value = "740";
// Start at 2Hz
// mod.frequency.value = "10000";  // Start at 2Hz #}
// mod.frequency.value = "1200";  // Start at 2Hz

var gain = context.createGain();
var scaler = context.createGain();

src.connect(gain);
gain.connect(context.destination);

mod.connect(scaler); // Mod signal is [-1,1]
if (allowed == 1) {
scaler.gain.value = 0.4; // we need it to be [-0.5,0.5]
gain.gain.value = 0.4; // then it's summed with 0.5, so [0,1]
} else {
scaler.gain.value = 7; // we need it to be [-0.5,0.5]
gain.gain.value = 7; // then it's summed with 0.5, so [0,1]
} scaler.connect(gain.gain);

// start it up
src.start(0);
mod.start(0);
src.stop(0.5);
mod.stop(0.5);*/
</script>




<!-- Configure a few settings and attach camera -->

<script language="JavaScript">


Webcam.set({

        width: 490,

        height: 390,

        image_format: 'jpeg',

        jpeg_quality: 90

    });

  var allowed = "{{ allowed }}";
 
Webcam.attach( '#my_camera' );
  

 
	
	

    

  

    function take_snapshot() {

        Webcam.snap( function(data_uri) {

            $(".image-tag").val(data_uri);

            document.getElementById('results').innerHTML = '<img src="'+data_uri+'" />';

        } );

    }

</script>
: center; : middle;
<script>
function isKeyPressed(event) {
  //var x = document.getElementById("demo");
  if (event.altKey) {
	  take_snapshot();

	  $(".headerbigA")
	  .css("background-color","gray")
	  .css("color","white")
	  .css("font-size","70px")
	  .css("text-align","center")
	  .css("vertical-align","middle")
	  .html("እባክዎ መግቢያ ካርድዎትን ያሳዩ");

	  $(".headerbigE")
	  .css("background-color","gray")
	  .css("color","white")
	  .css("font-size","70px")
	  .css("text-align","center")
	  .css("vertical-align","middle")
	  .html("PLEASE SHOW YOUR ENTRY CARD");

  }
}
</script>

</body>
